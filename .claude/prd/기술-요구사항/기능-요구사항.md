# 기능 요구사항 (Functional Requirements)

**문서 버전**: 1.0
**최종 수정일**: 2025-11-11
**상위 문서**: [기술 요구사항](../기술-요구사항.md)

---

## 개요

이 문서는 8G 플랫폼의 기능적 요구사항을 정의합니다. 각 요구사항은 검증 가능하고 명확한 기준을 포함합니다.

---

## FR-001: 워크플로우 생성

**요구사항**: 사용자는 비주얼 인터페이스로 워크플로우를 생성할 수 있어야 한다.

**세부 사항**:
- 드래그 앤 드롭으로 블록 추가
- 엣지 연결로 실행 순서 정의
- 블록별 설정 UI 제공
- 실시간 유효성 검증

**검증 방법**:
- 사용자가 5분 이내에 첫 워크플로우 생성 가능
- 블록 추가 시 즉시 설정 모달 표시

**우선순위**: P0 (Critical)

---

## FR-002: 워크플로우 저장 및 로드

**요구사항**: 생성한 워크플로우를 저장하고 불러올 수 있어야 한다.

**세부 사항**:
- MySQL 데이터베이스에 JSON 형태로 저장
- 워크플로우 목록 조회
- 저장된 워크플로우 편집 가능
- 버전 관리 (향후 계획)

**검증 방법**:
- 워크플로우 저장 후 새로고침 시 정상 로드
- 데이터베이스에 JSON 구조 정확히 저장

**우선순위**: P0 (Critical)

---

## FR-003: 블록 시스템

**요구사항**: 20종 이상의 블록 타입을 지원해야 한다.

**블록 카테고리**:

### 1. 데이터 추출 블록
- get-text: 텍스트 추출
- attribute-value: HTML 속성 값 추출
- get-element-data: 구조화된 데이터 추출
- get-value-form: 폼 입력 값 추출

### 2. 인터랙션 블록
- event-click: 클릭 이벤트
- keypress: 키보드 입력
- scroll: 스크롤 제어

### 3. 제어 흐름 블록
- wait: 대기
- element-exists: 요소 존재 확인
- navigate: 페이지 이동

### 4. 통합 블록
- fetch-api: HTTP API 호출
- ai-parse-data: AI 파싱 (향후)
- transform-data: JSONata 데이터 변환

**검증 방법**:
- 각 블록 타입별 단위 테스트
- 실제 웹사이트에서 실행 검증

**우선순위**: P0 (Critical)

---

## FR-004: 조건부 분기

**요구사항**: 실행 흐름을 동적으로 제어할 수 있어야 한다.

**지원 조건 타입**:
- equals: 동등 비교
- regex: 정규표현식 매칭
- contains: 문자열 포함
- exists: 존재 확인
- AND/OR: 논리 연산자

**검증 방법**:
- 조건 평가 로직 단위 테스트
- 복잡한 조건 조합 시나리오 테스트

**우선순위**: P0 (Critical)

---

## FR-005: 루프 실행

**요구사항**: 반복 작업을 자동화할 수 있어야 한다.

**지원 루프 타입**:
- forEach: 배열 순회
- count: 고정 횟수 반복

**검증 방법**:
- 100개 아이템 forEach 루프 정상 실행
- 중첩 루프 지원 검증

**우선순위**: P1 (High)

---

## FR-006: 변수 시스템

**요구사항**: 동적 데이터 처리를 위한 변수 시스템을 제공해야 한다.

**변수 타입**:
- 정적 변수: `${vars.varName}`
- 동적 변수: JSONPath 표현식
- 컨텍스트 변수: `$.forEach.item`, `$.loop.index`

**검증 방법**:
- 변수 치환 정확성 검증
- 중첩 변수 참조 테스트

**우선순위**: P0 (Critical)

---

## FR-007: 워크플로우 실행

**요구사항**: Extension을 통해 실제 브라우저에서 워크플로우를 실행할 수 있어야 한다.

**실행 흐름**:
1. 워크플로우 JSON 생성
2. Extension으로 전송
3. 새 탭에서 실행
4. 결과 수집 및 반환

**검증 방법**:
- 10개 이상 스텝 워크플로우 정상 실행
- 에러 발생 시 적절한 에러 메시지 표시

**우선순위**: P0 (Critical)

---

## FR-008: 결과 시각화

**요구사항**: 실행 결과를 직관적으로 표시해야 한다.

**표시 정보**:
- 각 스텝별 실행 결과
- 실행 시간
- 에러 메시지
- 추출된 데이터

**검증 방법**:
- JSON, Table, Raw 뷰 전환 가능
- 대용량 데이터 표시 성능 검증

**우선순위**: P1 (High)

---

## FR-009: Import/Export

**요구사항**: 워크플로우를 파일로 내보내고 가져올 수 있어야 한다.

**지원 형식**:
- JSON: 워크플로우 정의
- CSV: 실행 결과 데이터

**검증 방법**:
- Export → Import 시 워크플로우 정확히 복원
- 한글 데이터 CSV Export 정상 동작

**우선순위**: P1 (High)

---

## 관련 문서

- [기술 요구사항](../기술-요구사항.md)
- [비기능 요구사항](./비기능-요구사항.md)
- [PRD](../../PRD.md)

---

**변경 이력**

| 버전 | 날짜 | 변경 내용 | 작성자 |
|-----|------|---------|-------|
| 1.0 | 2025-11-11 | 기술 요구사항에서 기능 요구사항 분리 | System |
